<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>CLINIC - PATIENT BASE</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"/>
    </h:head>
    <h:body>
        <div class="container-fluid">
                <div class="row">
                        <center><br/>
                            <div class="panel panel-primary">
                            <font size="15">CLINIC - PATIENT BASE</font><br/>
                            </div>
                        </center>
                </div>
                <nav class="navbar navbar-default">
                  <div class="container-fluid">
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                      <ul class="nav navbar-nav">
                        <li><a href="search.xhtml">Search</a></li>
                        <li><a href="addPerson.xhtml">Add Person</a></li>
                      </ul>

                      <ul class="nav navbar-nav navbar-right">
                        <li><a href="#">Tools</a></li>
                      </ul>
                    </div>
                  </div>
                </nav>
<h:form id="mB">
    <p:growl id="messages"/>
    <f:event type="postValidate" listener="#{mB.checkBirthAndPesel}" />
            <h:panelGrid columns="3">                
                <p:outputLabel for="name" value="Name:"/>
                <p:inputText id="name" size="20" value="#{mB.person.name}" required="#{true}">
                    <f:validateLength minimum="2" maximum="20"/>
                    <p:ajax update="msgName" event="blur" />
                </p:inputText>
                <p:message for="name" id="msgName" display="text" />
                                   
                

                <p:outputLabel for="surname" value="Surname:"/>
                <p:inputText id="surname" size="20" value="#{mB.person.surname}" required="#{true}">
                    <f:validateLength minimum="" maximum="25"/>
                    <p:ajax update="msgSurname" event="blur" />
                </p:inputText>
                <p:message for="surname" id="msgSurname" display="text" />

                <p:outputLabel for="pesel" value="Pesel:" />
                <p:inputText id="pesel" size="11" value="#{mB.person.pesel}" required="#{true}">
                    <f:validateLength minimum="11" maximum="11"/>
                    <p:ajax update="msgPesel" event="keyup" />
                </p:inputText>
                <p:message for="pesel" id="msgPesel"/>
                
                <p:outputLabel for="birthDay" value="Date of birth: " />
                <p:calendar id="birthDay" value="#{mB.person.birthDay}" locale="pl" navigator="true" pattern="yyyy-MM-dd" required="#{true}">
                   <p:ajax update="msgBd" event="blur" />
                </p:calendar>
                <p:message for="birthDay" id="msgBd" display="text" />

                <p:outputLabel for="address" value="Address:" />
                <p:inputText id="address" size="30" value="#{mB.person.address}" required="#{true}">
                    <f:validateLength minimum="5" maximum="30"/>
                    <p:ajax update="msgAddress" event="blur"/>
                </p:inputText>
                <p:message for="address" id="msgAddress" display="text" />

                <p:outputLabel for="phone" value="Phone:" />
                <p:inputText id="phone" size="9" value="#{mB.person.phone}" validator="#{mB.validatePhone}" required="#{true}" maxlength="9">
                    <f:validateLength minimum="9" maximum="9"/>
                    <p:ajax update="msgPhone" event="keyup" />
                </p:inputText>
                <p:message for="phone" id="msgPhone" display="text" />
         

                <p:outputLabel for="weight" value="Weight:" />
                <p:inputText id="weight" size="3" value="#{mB.person.weight}" required="#{true}">
                    <f:validateLength minimum="2" maximum="3"/>
                    <p:ajax update="msgWeight" event="keyup" />
                </p:inputText>
                <p:message for="weight" id="msgWeight" display="text" />
                
                <p:outputLabel for="height" value="Height:" />
                <p:inputText id="height" size="3" value="#{mB.person.height}" required="#{true}">
                    <f:validateLength minimum="2" maximum="3"/>
                    <p:ajax update="msgHeight" event="keyup" />
                </p:inputText>
                <p:message for="height" id="msgHeight" display="text" />

                
            </h:panelGrid><br/>
            <h:commandButton value="DODAJ" action="#{mB.addPerson}"/>
        </h:form>
        </div>
    </h:body>
</html>
